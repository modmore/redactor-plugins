if(!RedactorPlugins)var RedactorPlugins={};!function(o){RedactorPlugins.breadcrumb=function(){return{init:function(){var e=this;o(this.$editor).after('<p class="redactor_message_box redactor_breadcrumb" id="redactor_breadcrumb-'+this.uuid+'"><i class="icon icon-code"></i>&nbsp;<span></span></p>');var i=o("#redactor_breadcrumb-"+this.uuid);this.$editor.on("keyup.redactor-limiter",o.proxy(function(r){this.breadcrumb.handleChange(r)},this)).on("click",o.proxy(function(r){this.breadcrumb.handleChange(r)},this)).on("sync",o.proxy(function(r){this.breadcrumb.handleChange(r)},this)),this.$element.on("sourceCallback",function(r){e.opts.visual?i.show():i.hide()})},handleChange:function(r){var e=this.selection.getCurrent(),i=o("#redactor_breadcrumb-"+this.uuid),t=o(e).clone(),a=(t.find('*[data-verified="redactor"]'),t.closest("div.redactor-editor"),[]);if(o(e).parent().is("div.redactor-editor"))a.push(o(t)[0].tagName);else for(var n=o(e);o(n)[0]&&void 0!==n.parent()&&!n.is("div.redactor-editor");)a.push(o(n)[0].tagName),n=n.parent();a=a.reverse(),i.children("span").html(a.join("&nbsp;&raquo;&nbsp;"))}}}}(jQuery);