if(!RedactorPlugins)var RedactorPlugins={};!function(o){RedactorPlugins.replacer=function(){return{getTemplate:function(){return String()+'<section id="redactor-modal-replacer"><p>Search and replace found text.</p><label for="redactor-replacer-find">Search</label><input type="text" size="5" id="redactor-replacer-find" required /><label for="redactor-replacer-replace">Replace</label><input type="text" size="5" id="redactor-replacer-replace" required /><div class="options"><label><input type="checkbox" id="redactor-replacer-ignore-case" /> Ignore Case</label></div></section>'},init:function(){if(this.opts.replacerButton){var e=this.button.add("replacer","Find & Replace");this.button.setAwesome("replacer","icon icon-search"),this.button.addCallback(e,this.replacer.show)}o.extend(this.opts.shortcuts,{"ctrl+f":{func:"replacer.show",params:[]}})},show:function(){this.modal.addTemplate("replacer",this.replacer.getTemplate()),this.modal.load("replacer",this.lang.get("replacer")||"Replacer",300),this.modal.createCancelButton(),this.modal.createActionButton("Replace").on("click",this.replacer.replace),this.sel&&this.sel.toString()&&(o("#redactor-replacer-find").val(this.sel.toString()),o("#redactor-replacer-replace").focus()),this.selection.save(),this.modal.show(),o("#redactor-modal-replacer").focus()},replace:function(){var e,r,t,a,c=o("#redactor-replacer-find").val(),l=o("#redactor-replacer-replace").val(),i=o("#redactor-replacer-ignore-case").is(":checked");c&&l&&this.insert.set((e=c,r=l,t=this.$editor.html(),a="g"+(i?"i":""),t.replace(e instanceof RegExp?e:new RegExp(e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),a),r))),this.modal.close(),this.selection.restore()}}}}(jQuery);